% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_collectionCode.R
\name{prepare_collectionCode}
\alias{prepare_collectionCode}
\title{Standardize collection codes using Index Herbariorum}
\usage{
prepare_collectionCode(occ = NA, herbarium_data = NA, quiet = FALSE)
}
\arguments{
\item{occ}{A data frame containing occurrence records with columns
\code{Ctrl_collectionCode} and \code{Ctrl_institutionCode}.}

\item{herbarium_data}{A data frame containing Index Herbariorum data
with a column \code{code} for herbarium acronyms. If not provided, the function
will attempt to download it automatically.}

\item{quiet}{Logical, if TRUE suppresses progress messages}
}
\value{
The input data frame \code{occ} with an additional column:
\item{parseGBIF_collectionCode_standardized}{Standardized collection codes}
}
\description{
Standardizes collection codes by comparing them with known
herbarium codes from the Index Herbariorum. This function helps to
identify and standardize institution and collection codes in GBIF data.
}
\details{
This function performs several standardization steps:
\itemize{
\item{Handles missing values in collection and institution codes}
\item{Selects the most appropriate code when both are present}
\item{Checks codes against the official Index Herbariorum list}
\item{Marks non-standard codes with an asterisk for easy identification}
}

The function returns the input data frame with an additional column
\code{parseGBIF_collectionCode_standardized} containing the standardized codes.
}
\examples{
\donttest{
# Load example data
data(example_occurrences)

# Standardize collection codes
standardized_data <- prepare_collectionCode(
  occ = example_occurrences
)

# View results
head(standardized_data[, c("Ctrl_collectionCode", "Ctrl_institutionCode",
                          "parseGBIF_collectionCode_standardized")])
}

}
\seealso{
\code{\link[parseGBIF]{get_index_herbariorum}}
}
\author{
Pablo Hendrigo Alves de Melo,
Nadia Bystriakova &
Alexandre Monro
}
