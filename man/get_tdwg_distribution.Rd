% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_tdwg_distribution.R
\name{get_tdwg_distribution}
\alias{get_tdwg_distribution}
\title{Get TDWG Distribution Data from POWO}
\usage{
get_tdwg_distribution(
  searchedName = NA,
  wcvp_plant_name_id = NA,
  wcvp_names = NA
)
}
\arguments{
\item{searchedName}{Character. Scientific name of the plant species to search for.
Either this or \code{wcvp_plant_name_id} must be provided.}

\item{wcvp_plant_name_id}{Character. WCVP plant name ID for the species.
Either this or \code{searchedName} must be provided.}

\item{wcvp_names}{Data frame. WCVP names data containing taxon information with columns:
\code{taxon_name}, \code{taxon_status}, \code{plant_name_id}, \code{ipni_id}.}
}
\value{
A data frame with TDWG distribution information containing:
\itemize{
\item \code{LEVEL3_NAM}: TDWG level 3 region name
\item \code{LEVEL3_COD}: TDWG level 3 region code
\item \code{POWO_ID}: IPNI ID of the plant species
Returns \code{NULL} if no distribution data is found or if inputs are invalid.
}
}
\description{
Retrieves TDWG (Taxonomic Databases Working Group) distribution data
for a plant species from Plants of the World Online (POWO) API using
either scientific name or WCVP plant name ID.
}
\details{
This function queries the Plants of the World Online (POWO) API to retrieve
TDWG distribution data for native ranges of plant species. The function:
\enumerate{
\item Resolves IPNI ID from either scientific name or WCVP plant name ID
\item Queries POWO API for distribution data
\item Processes and standardizes the returned distribution information
\item Handles character encoding and API errors gracefully
}
}
\note{
\itemize{
\item Requires an internet connection to access POWO API
\item Only returns native distribution ranges (not introduced ranges)
\item Returns NULL for invalid inputs or API errors
\item WCVP names data must contain IPNI ID mappings
}
}
\examples{
\donttest{
# Get distribution by scientific name
distribution <- get_tdwg_distribution(
  searchedName = "Quercus robur",
  wcvp_names = wcvp_names_data
)

# Get distribution by WCVP plant name ID
distribution <- get_tdwg_distribution(
  wcvp_plant_name_id = "123456",
  wcvp_names = wcvp_names_data
)

# View distribution data
if (!is.null(distribution)) {
  head(distribution)
}
}

}
\author{
Pablo Hendrigo Alves de Melo,
Nadia Bystriakova &
Alexandre Monro
}
