<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Prepare the list with the main collector's last name — collectors_prepare_dictionary • parseGBIF</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare the list with the main collector's last name — collectors_prepare_dictionary"><meta property="og:description" content="Returns the list with the last name of the main collector associated with the unique key recordedBy."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">parseGBIF</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare the list with the main collector's last name</h1>
    
    <div class="hidden name"><code>collectors_prepare_dictionary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Returns the list with the last name of the main collector associated with the unique key recordedBy.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">collectors_prepare_dictionary</span><span class="op">(</span></span>
<span>  occ <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  collectorDictionary_file <span class="op">=</span></span>
<span>    <span class="st">"https://raw.githubusercontent.com/pablopains/parseGBIF/main/collectorDictionary/CollectorsDictionary.csv"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>occ</dt>
<dd><p>GBIF occurrence table with selected columns as select_gbif_fields(columns = 'standard')</p></dd>


<dt>collectorDictionary_file</dt>
<dd><p>Collector dictionary file - point to a file on your local disk or upload via git at https://raw.githubusercontent.com/pablopains/parseGBIF/main/collectorDictionary/CollectorsDictionary.csv.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Ctrl_nameRecordedBy_Standard,
Ctrl_recordedBy,
Ctrl_notes,
collectorDictionary,
Ctrl_update,
collectorName,
Ctrl_fullName,
Ctrl_fullNameII,
CVStarrVirtualHerbarium_PersonDetails</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If recordedBy is present in the collector's dictionary, it returns the checked name, if not, it returns the last name of the main collector, extracted from the recordedBy field.
If recordedBy is present in the collector's dictionary, returns the main collector's last name associated with the single recordedBy key,
otherwise, returns the main collector's last name, extracted from the recordedBy field.
It is recommended to curate the main collector's surname, automatically extracted from the recordedBy field.
The objective is to standardize the last name of the main collector.
That the primary botanical collector of a sample is always recognized by the same last name, standardized in capital letters and non-ascii characters replaced</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="collectors_get_name.html">collectors_get_name</a></code>, <code>update_collectorsDictionary</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Pablo Hendrigo Alves de Melo,
Nadia Bystriakova &amp;
Alexandre Monro</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="va">collectors_prepare_dictionary</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_gbif_occurrence_data.html">prepare_gbif_occurrence_data</a></span><span class="op">(</span>gbif_occurrece_file <span class="op">=</span>  <span class="st">'https://raw.githubusercontent.com/pablopains/parseGBIF/main/dataGBIF/Achatocarpaceae/occurrence.txt'</span>,</span></span>
<span class="r-in"><span>                                    columns <span class="op">=</span> <span class="st">'standard'</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>One or more parsing issues, call `problems()` on your data frame for details,</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> e.g.:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   dat &lt;- vroom(...)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   problems(dat)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">collectorsDictionaryFromDataset</span> <span class="op">&lt;-</span> <span class="fu">collectors_prepare_dictionary</span><span class="op">(</span>occ <span class="op">=</span> <span class="va">occ</span>,</span></span>
<span class="r-in"><span>                                                                collectorDictionary_file <span class="op">=</span>  <span class="st">'https://raw.githubusercontent.com/pablopains/parseGBIF/main/collectorDictionary/CollectorsDictionary.csv'</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: stringr</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: dplyr</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: 'dplyr'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:stats':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     filter, lag</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:base':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     intersect, setdiff, setequal, union</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Loading collectorDictionary..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Extracting the main collector's surname...."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>no non-missing arguments to max; returning -Inf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">collectorsDictionaryFromDataset</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Ctrl_nameRecordedBy_Standard"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "Ctrl_recordedBy"                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "Ctrl_notes"                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "collectorDictionary"                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "Ctrl_update"                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "collectorName"                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "Ctrl_fullName"                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8] "Ctrl_fullNameII"                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [9] "CVStarrVirtualHerbarium_PersonDetails"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">collectorsDictionaryFromDataset</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Ctrl_nameRecordedBy_Standard                                 Ctrl_recordedBy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                      ACEVEDO                         R. ACEVEDO R.; C. REYES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                       ACOSTA                     R. ACOSTA P.; F. VÁZQUEZ B.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                       ACOSTA                      R. ACOSTA P.; N. ACOSTA B.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                       ADARVE                                       J. ADARVE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                      AGUILAR                                   AGUILAR, R.M.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                      AGUILAR JOSÉ AGUILAR CANO;SANDRA MEDINA;JHONATAN GUZMÁN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Ctrl_notes collectorDictionary Ctrl_update collectorName Ctrl_fullName</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       &lt;NA&gt;                            &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       &lt;NA&gt;                            &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       &lt;NA&gt;                            &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       &lt;NA&gt;                            &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       &lt;NA&gt;                            &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       &lt;NA&gt;                            &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Ctrl_fullNameII CVStarrVirtualHerbarium_PersonDetails</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            &lt;NA&gt;                                  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            &lt;NA&gt;                                  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            &lt;NA&gt;                                  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            &lt;NA&gt;                                  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            &lt;NA&gt;                                  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            &lt;NA&gt;                                  &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">collectorDictionary_checked_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">'/'</span>,<span class="st">'collectorsDictionaryFromDataset.csv'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">collectorDictionary_checked_file</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "C:\\Users\\PABLOH~1\\AppData\\Local\\Temp\\RtmpSSybZ3/collectorsDictionaryFromDataset.csv"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">collectorsDictionaryFromDataset</span>,</span></span>
<span class="r-in"><span>          <span class="va">collectorDictionary_checked_file</span>,</span></span>
<span class="r-in"><span>          row.names <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>          fileEncoding <span class="op">=</span> <span class="st">"UTF-8"</span>,</span></span>
<span class="r-in"><span>          na <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Pablo Melo, Nadia Bystriakova, Alexandre Monro.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

